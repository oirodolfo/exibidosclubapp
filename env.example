# =============================================================================
# exibidos.club — Environment template (everything enabled for local dev)
# Copy to .env and fill secrets. Do not commit .env.
#   cp env.example .env
# =============================================================================

NODE_ENV=development

# -----------------------------------------------------------------------------
# Database (Prisma)
# -----------------------------------------------------------------------------
# Docker Postgres uses host port 5433 if 5432 is taken by local Postgres.
DATABASE_URL=postgresql://exibidos:exibidos@localhost:5433/exibidos

# -----------------------------------------------------------------------------
# Redis (sessions, cache, queues)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# App URL (OAuth redirects, links, local storage serve base)
# -----------------------------------------------------------------------------
APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Auth (Auth.js / NextAuth) — JWT signing/encryption; use same value for both
# -----------------------------------------------------------------------------
NEXTAUTH_SECRET=change-me-in-production-min-32-chars
SESSION_SECRET=change-me-in-production-min-32-chars

# -----------------------------------------------------------------------------
# OAuth (Google, Twitter) — leave empty to disable provider
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
TWITTER_CLIENT_ID=
TWITTER_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# S3-compatible storage (MinIO locally: user/pass exibidos/exibidos)
# -----------------------------------------------------------------------------
S3_BUCKET=exibidos
S3_ACCESS_KEY=exibidos
S3_SECRET_KEY=exibidos
S3_REGION=us-east-1
S3_ENDPOINT=http://localhost:9000
S3_FORCE_PATH_STYLE=true

# -----------------------------------------------------------------------------
# Storage fallback (when S3 not configured or STORAGE_PROVIDER=local)
# -----------------------------------------------------------------------------
# STORAGE_PROVIDER=local
# STORAGE_LOCAL_PATH=.storage

# -----------------------------------------------------------------------------
# Ports (API = 4000, IMS = 4001; override per process if needed)
# -----------------------------------------------------------------------------
API_PORT=4000
IMS_PORT=4001
# PORT=4000

# -----------------------------------------------------------------------------
# Feature flags — set to true to enable (all on for local dev)
# -----------------------------------------------------------------------------
FEATURE_IMAGE_UPLOAD=true
FEATURE_SWIPE=true
FEATURE_RANKINGS=true
FEATURE_TAGGING=true
FEATURE_LOGGER=true
FEATURE_ML_PIPELINE=true
FEATURE_FACE_BLUR=true

# -----------------------------------------------------------------------------
# IMS (Image Manipulation Service)
# -----------------------------------------------------------------------------
# IMS_MEMORY_CACHE_MAX=1000
# IMS_MEMORY_CACHE_TTL=3600
# FEATURE_BLUR_FORCE=
# FEATURE_BLUR_DISABLED=false

# -----------------------------------------------------------------------------
# HumanProof Service (human verification, antifraud, device binding)
# -----------------------------------------------------------------------------
# HUMANPROOF_SERVICE_URL=http://localhost:4020
# CORS_ORIGIN=http://localhost:3000

# -----------------------------------------------------------------------------
# Optional: ML service, CDN, vector DB
# -----------------------------------------------------------------------------
# ML_SERVICE_URL=
# ML_EMBEDDING_URL=
# CDN_IMAGE_BASE=
# VECTOR_DB_URL=

# -----------------------------------------------------------------------------
# ML pipeline: Label Studio ingestion (automated dataset versioning)
# -----------------------------------------------------------------------------
# LABEL_STUDIO_BASE_URL=http://localhost:8080
# LABEL_STUDIO_API_TOKEN=
# LABEL_STUDIO_PROJECT_ID=
# Dataset artifact store: use default in-memory or set path for file/S3
# ML_DATASET_ARTIFACT_PATH=.ml-artifacts/datasets
